<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Control de Salidas - PSPIC</title>
    <link
      rel="icon"
      href="https://ciudadbienestar.github.io/control-salidas-pspic/pasto%20salud.ico"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="CSS/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Loading overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
      <div class="loading-spinner"></div>
      <p>Enviando formulario...</p>
    </div>

    <!-- Success notification -->
    <div id="successNotification" class="notification success hidden">
      <div class="notification-content">
        <div class="notification-icon">‚úì</div>
        <div>
          <h3>¬°Formulario enviado exitosamente!</h3>
          <p>Los datos han sido registrados correctamente.</p>
        </div>
      </div>
    </div>

    <!-- Error notification -->
    <div id="errorNotification" class="notification error hidden">
      <div class="notification-content">
        <div class="notification-icon">‚ö†</div>
        <div>
          <h3>Error al enviar formulario</h3>
          <p id="errorMessage">Ha ocurrido un error. Int√©ntelo nuevamente.</p>
        </div>
      </div>
    </div>
    <header class="header">
      <a
        href="http://ciudadbienestar.github.io/control-salidas-pspic/registros.html"
        class="btn btn-registros"
      >
        <span>üìã</span> Ver Registros
      </a>

      <div class="header-content">
        <div
          style="
            width: 120px;
            height: 80px;
            background: #f2efef00;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
          "
        >
          <img
            src="https://ciudadbienestar.github.io/control-salidas-pspic/logo.jpg"
            alt="Logo PSPIC"
            class="logo-header"
            style="width: 150px; height: auto"
          />
        </div>
        <div class="header-text">
          <h1>CONTROL DE SALIDAS</h1>
          <p>CONTRATISTAS PSPIC - ACCIONES COLECTIVAS</p>
        </div>
      </div>
    </header>

    <main class="main-container">
      <div class="form-container">
        <form id="salidaForm" class="modern-form" novalidate>
          <!-- Informaci√≥n b√°sica -->
          <section class="form-section">
            <h2>üìã Informaci√≥n B√°sica</h2>
            <div class="form-grid">
              <div class="form-group">
                <label for="fecha">Fecha de la Actividad</label>
                <input type="date" id="fecha" name="fecha" required />
              </div>
              <div class="form-group">
                <label for="lugarSalida">Lugar de Salida (Barrio)</label>
                <input
                  type="text"
                  id="lugarSalida"
                  name="lugarSalida"
                  required
                  placeholder="Ej. Centro, La Pandiaco..."
                />
              </div>
            </div>
          </section>

          <!-- Actividad -->
          <section class="form-section">
            <h2>üéØ Detalles de la Actividad</h2>
            <div class="form-group">
              <label for="actividad">Actividad a Realizar</label>
              <textarea
                id="actividad"
                name="actividad"
                required
                placeholder="Describe brevemente la actividad..."
              ></textarea>
            </div>
            <div class="form-group">
              <label for="lugarActividad"
                >Lugar donde se Realizar√° la Actividad</label
              >
              <input
                type="text"
                id="lugarActividad"
                name="lugarActividad"
                required
                placeholder="Direcci√≥n o ubicaci√≥n espec√≠fica"
              />
            </div>
          </section>

          <!-- Horarios -->
          <section class="form-section">
            <h2>‚è∞ Horarios</h2>
            <div class="form-grid">
              <div class="form-group">
                <label for="horaSalida">Hora de salida</label>
                <select id="horaSalida" name="horaSalida" required>
                  <option value="">Seleccione hora</option>
                </select>
              </div>
              <div class="form-group">
                <label for="horaLlegada"
                  >Presunta Hora de Llegada (Destino)</label
                >
                <select id="horaLlegada" name="horaLlegada" required>
                  <option value="">Seleccione hora</option>
                </select>
              </div>
              <div class="form-group">
                <label for="horaRetorno">Hora de Regreso</label>
                <select id="horaRetorno" name="horaRetorno" required>
                  <option value="">Seleccione hora</option>
                </select>
              </div>
            </div>
          </section>

          <!-- Detalles adicionales -->
          <section class="form-section">
            <h2>üìù Detalles Adicionales</h2>
            <div class="form-grid">
              <div class="form-group">
                <label for="programada">¬øLa Salida fue Programada?</label>
                <select id="programada" name="programada" required>
                  <option value="">Seleccione</option>
                  <option value="Si">S√≠</option>
                  <option value="No">No</option>
                </select>
              </div>
              <div class="form-group">
                <label for="reunionCon">¬øCon Qui√©n va a Reunirse?</label>
                <select id="reunionCon" name="reunionCon" required>
                  <option value="">Seleccione</option>
                  <option value="Comit√©">Comit√©</option>
                  <option value="Corregidor(a)">Corregidor(a)</option>
                  <option value="Comunidad en general">
                    Comunidad en general
                  </option>
                  <option value="Docente(s)">Docente(s)</option>
                  <option value="Equipo de trabajo">Equipo de trabajo</option>
                  <option value="Estudiantes">Estudiantes</option>
                  <option value="L√≠deres o lideresas">L√≠deres o lideresas</option>
                  <option value="Referente SMS">Referente SMS</option>
                  <option value="Veedores(as)">Veedor(a)</option>
                  <option value="Otro">Otro</option>
                </select>
              </div>
            </div>
            <div class="form-group hidden" id="otroReunionGroup">
              <label for="otroReunion">Especifique con qui√©n</label>
              <input
                type="text"
                id="otroReunion"
                name="otroReunion"
                placeholder="Detalle la persona o entidad"
              />
            </div>
          </section>

          <!-- Informaci√≥n personal -->
          <section class="form-section">
            <h2>üë§ Informaci√≥n Personal</h2>
            <div class="form-group">
              <label for="nombre">Nombre Completo</label>
              <select id="nombre" name="nombre" required>
                <option value="">Seleccione su nombre</option>
              </select>
            </div>
            <div class="form-grid">
              <div class="form-group">
                <label for="cedula">C√©dula</label>
                <input
                  type="text"
                  id="cedula"
                  name="cedula"
                  readonly
                  class="readonly-field"
                />
              </div>
              <div class="form-group">
                <label for="perfil">Perfil</label>
                <input
                  type="text"
                  id="perfil"
                  name="perfil"
                  readonly
                  class="readonly-field"
                />
              </div>
              <div class="form-group">
                <label for="telefono">N√∫mero de celular/tel√©fono</label>
                <input
                  type="text"
                  id="telefono"
                  name="telefono"
                  readonly
                  class="readonly-field"
                />
              </div>
              <div class="form-group">
                <label for="telContacto">Tel√©fono de Contacto o Familiar</label>
                <input
                  type="tel"
                  id="telContacto"
                  name="telContacto"
                  required
                  pattern="[0-9]{10}"
                  title="Ingrese un n√∫mero de 10 d√≠gitos"
                />
              </div>
            </div>
          </section>

          <!-- Identificaci√≥n y transporte -->
          <section class="form-section">
            <h2>üöó Identificaci√≥n y Transporte</h2>
            <div class="form-grid">
              <div class="form-group">
                <label for="carne">¬øPorta Carn√© de Identificaci√≥n?</label>
                <select id="carne" name="carne" required>
                  <option value="">Seleccione</option>
                  <option value="Si">S√≠</option>
                  <option value="No">No</option>
                </select>
              </div>
              <div class="form-group">
                <label for="transporte">Tipo de Transporte</label>
                <select id="transporte" name="transporte" required>
                  <option value="">Seleccione</option>
                  <option value="Bicicleta">Bicicleta</option>
                  <option value="Caminando">Caminando</option>
                  <option value="Motocicleta">Motocicleta</option>
                  <option value="Transporte p√∫blico">Transporte p√∫blico</option>
                  <option value="Veh√≠culo institucional">
                    Veh√≠culo institucional
                  </option>
                  <option value="Veh√≠culo particular">
                    Veh√≠culo particular
                  </option>
                </select>
              </div>
            </div>
            <div class="form-group hidden" id="placaGroup">
              <label for="placa">N√∫mero de Placa</label>
              <input
                type="text"
                id="placa"
                name="placa"
                placeholder="ABC123"
                style="text-transform: uppercase"
              />
            </div>
          </section>

          <!-- Botones -->
          <div class="form-actions">
            <button type="button" id="resetBtn" class="btn btn-secondary">
              üîÑ Limpiar Formulario
            </button>
            <button type="submit" id="submitBtn" class="btn btn-primary">
              üì§ Enviar Registro
            </button>
          </div>
        </form>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-logo-container"></div>
      <p>&copy; 2025 PSPIC - Sistema de Control de Salidas</p>
    </footer>
    <!-- SDK Firebase versi√≥n cl√°sica (compat) para uso con JS externo sin m√≥dulos) -->
    <script src="https://www.gstatic.com/firebasejs/11.8.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.8.1/firebase-database-compat.js"></script>

    <!-- Tu configuraci√≥n de Firebase -->
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAQEfqhQeW-ey01e16m9yXHaIsgg384iz8",
        authDomain: "registro-salidas-1002b.firebaseapp.com",
        databaseURL:
          "https://registro-salidas-1002b-default-rtdb.firebaseio.com",
        projectId: "registro-salidas-1002b",
        storageBucket: "registro-salidas-1002b.firebasestorage.app",
        messagingSenderId: "987187969959",
        appId: "1:987187969959:web:03164b91bea644959c4082",
      };

      // Inicializar Firebase
      firebase.initializeApp(firebaseConfig);
    </script>

    <!--JS externo -->
    <script src="./JS/main.js" type="module"></script>
    <script src="./JS/personas.js"></script>
  </body>
</html>
